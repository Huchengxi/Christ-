SELECT `t1`.`id`, `t1`.`campaign_id`, `t2`.`name` AS campaign_name, `t3`.`name` AS advertiser_name, `t5`.`name` AS brand_name, `t6`.`name` AS product_name, `t5`.`logo_path` AS logo_url, `t2`.`media_category`, `t1`.`region`, `t1`.`type`, `t2`.`task_type`, `t1`.`start_date`, `t1`.`end_date`, `t1`.`locate_1`, `t1`.`locate_2`, `t1`.`locate_3`, `t1`.`slot_no`, `t1`.`longitude`, `t1`.`latitude`, `t2`.`description`, `t2`.`manual_file`, `t1`.`memo`, `t2`.`price`, `t1`.`max_task_num`, `t1`.`times_per_task`, `t1`.`servant_id` AS servant_id, `t4`.`name` AS servant_name, `t4`.`mobile` AS servant_mobile, `t1`.`status`, `t1`.`created_at` FROM `slots` AS t1 LEFT OUTER JOIN `campaigns` AS t2 ON (`t2`.`id` = `t1`.`campaign_id`) LEFT OUTER JOIN `companies` AS t3 ON (`t3`.`id` = `t2`.`advertiser_id`) LEFT OUTER JOIN `users` AS t4 ON (`t4`.`id` = `t1`.`servant_id`) LEFT OUTER JOIN `brands` AS t5 ON (`t2`.`brand_id` = `t5`.`id`) LEFT OUTER JOIN `products` AS t6 ON (`t2`.`product_id` = `t6`.`id`) WHERE (((`t1`.`id` IN (SELECT `t7`.`type_id` FROM `tasks` AS t7 WHERE ((`t7`.`type` = %s) AND ((`t7`.`servant_id` = %s) OR (`t7`.`servant_id` IN (SELECT `t8`.`user_id` FROM `authorizes` AS t8 WHERE (((`t8`.`type` = %s) AND (`t8`.`type_id` = %s)) AND (`t8`.`status` = %s)))))))) AND ((`t1`.`status` = %s) AND (`t1`.`id` IN (SELECT `t7`.`type_id` FROM `tasks` AS t7 WHERE (((`t7`.`type` = %s) AND (`t7`.`servant_id` = %s)) AND (`t7`.`status` != %s)))))) AND (`t2`.`enable` = %s)) ['Slot', 103, 'ServantManager', 103, 1, 7, 'Slot', 103, 2, 1]